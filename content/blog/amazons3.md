---
title: "Amazon S3を使って静的webページを配信してみた"
date: 2021-05-11
draft: false
categories:
  - 雑記
tags:
  - AWS
  - Amazon S3
---
プレゼントを送る時にいい感じのメッセージカードがなかったのでエンジニアらしく Amazon S3 を使ってメッセージカードの画像を配信してみました。

# 全体像

1. Canva でメッセージカードを作成
2. Amazon S3 バケットに 1 で作った画像をアップロード
3. 2 を静的ページとして公開
4. 3 で公開したページの URL を QR コードにしてプリントして同封

# Canva でメッセージカードを作成

Canva を使って画像ファイルを作成します。

# Amazon S3 バケットに作った画像と index.html をアップロード

- 適当な名前で S3 バケットを作成します
- オブジェクト > アップロード から作成した画像をアップロード
- 配信ページ用のhtmlファイルもアップロード

## アクセス許可で公開する必要があります

アクセス許可 > ブロックパブリックアクセス > 編集からパブリックアクセスをすべてブロックをオフにする

パケットポリシーに下記を編集し、追記

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "PublicReadGetObject",
      "Effect": "Allow",
      "Principal": "*",
      "Action": "s3:GetObject",
      "Resource": "arn:aws:s3:::20210511/*"
    }
  ]
}
```

これで誰でもアクセスできるようになります。（本当はあまり良くないかも）

# 静的ページとして公開

プロパティ下部の静的ウェブサイトホスティングを設定する
静的ウェブサイトホスティング →「有効にする」
インデックスドキュメント →「index.html」を入力

# 発行したURLをQRコードにする

QRコードをプレゼント等自分が贈りたいものに同封する。
