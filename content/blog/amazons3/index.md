---
title: "Amazon S3を使って静的webページを配信してみた"
date: 2021-05-11
draft: false
categories:
  - 雑記
tags:
  - AWS
  - Amazon S3
---
プレゼントを送るときにいい感じのメッセージカードがなかったのでエンジニアらしくAmazon S3を使ってメッセージカードの画像を配信してみました。

# 全体像

1. Canvaでメッセージカードを作成
2. Amazon S3バケットに1で作った画像をアップロード
3. 2を静的ページとして公開
4. 3で公開したページのURLをQRコードにしてプリントして同封

# Canva でメッセージカードを作成

Canvaを使って画像ファイルを作成します。

# Amazon S3 バケットに作った画像と index.html をアップロード

- 適当な名前でS3バケットを作成します
- オブジェクト > アップロードから作成した画像をアップロード
- 配信ページ用のhtmlファイルもアップロード

## アクセス許可で公開する必要があります

アクセス許可 > ブロックパブリックアクセス > 編集からパブリックアクセスをすべてブロックをオフにする

パケットポリシーに下記を編集し、追記

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "PublicReadGetObject",
      "Effect": "Allow",
      "Principal": "*",
      "Action": "s3:GetObject",
      "Resource": "arn:aws:s3:::20210511/*"
    }
  ]
}
```

これで誰でもアクセスできるようになります。（本当はあまり良くないかも）

# 静的ページとして公開

プロパティ下部の静的Webサイトホスティングを設定する
静的Webサイトホスティング →「有効にする」
インデックスドキュメント →「index.html」を入力

# 発行したURLをQRコードにする

QRコードをプレゼント等自分が贈りたいものに同封する。
